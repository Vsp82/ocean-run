[gd_scene format=4 uid="uid://bn7pf8tc4qhcu"]

[ext_resource type="Script" uid="uid://rmhjggy5adox" path="res://Scenes/boss_room.gd" id="1_q04ek"]
[ext_resource type="Texture2D" uid="uid://da8cqaqdiocaf" path="res://Acets/health_back.png" id="2_l7on7"]
[ext_resource type="Texture2D" uid="uid://6w40ogj4oly" path="res://Acets/image-removebg-preview (7).png" id="3_bnrw0"]
[ext_resource type="Texture2D" uid="uid://bi4nrh6u6u01h" path="res://Acets/tiles2.png" id="4_djbyv"]
[ext_resource type="PackedScene" uid="uid://pjvrrjmwwy7v" path="res://Scenes/player_swim.tscn" id="5_dc5tq"]
[ext_resource type="PackedScene" uid="uid://dgt5i0vg4nqux" path="res://Scenes/boss.tscn" id="6_l7on7"]
[ext_resource type="Shader" uid="uid://ckgryjxyj7004" path="res://Scenes/Main.gdshader" id="6_ro8b5"]
[ext_resource type="PackedScene" uid="uid://cknosgd186yyl" path="res://Scenes/damage.tscn" id="7_bnrw0"]
[ext_resource type="Script" path="res://Scenes/health.gd" id="9_mx74l"]
[ext_resource type="Script" uid="uid://bwyvx6s22k2xo" path="res://Scenes/timer.gd" id="10_kk2qi"]

[ext_resource type="Script" path="res://Scenes/score.gd" id="11_mx74l"]

[sub_resource type="LabelSettings" id="LabelSettings_bnrw0"]
font_size = 150
font_color = Color(0, 0.73333335, 0.07450981, 1)
outline_size = 10
outline_color = Color(0, 0, 0, 1)
shadow_size = 10
shadow_offset = Vector2(10.81, 1)

[sub_resource type="LabelSettings" id="LabelSettings_djbyv"]
font_size = 77


[ext_resource type="PackedScene" uid="uid://cjtwg7fgolf6y" path="res://endscene.tscn" id="10_w6sin"]
[ext_resource type="Script" uid="uid://cvkdui4tqb7a6" path="res://Scenes/score.gd" id="11_mx74l"]


[sub_resource type="Shader" id="Shader_kk2qi"]
code = "shader_type canvas_item;

uniform float cell_size = 32.0;
uniform vec2 direction = vec2(1.0, 0.0);
uniform float speed = 40.0;
uniform float color_speed = 0.3;

// --- Outline / Glow controls ---
uniform vec4 outline_color : source_color = vec4(1.0, 1.0, 1.0, 1.0);
uniform float outline_width = 2.0;   // in pixels
uniform float glow_radius = 6.0;     // how far the glow spreads
uniform float glow_strength = 1.5;   // brightness multiplier
uniform bool enable_glow = true;

// HSV → RGB
vec3 hsv2rgb(vec3 c) {
    vec4 K = vec4(1.0, 2.0/3.0, 1.0/3.0, 3.0);
    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

// Returns the max alpha found in a radius around UV
float sample_alpha_radius(sampler2D tex, vec2 uv, float radius) {
    vec2 texel_size = 1.0 / vec2(textureSize(tex, 0)); // ← define once here
    float max_a = 0.0;
    for (float x = -radius; x <= radius; x += 1.0) {
        for (float y = -radius; y <= radius; y += 1.0) {
            if (length(vec2(x, y)) <= radius) {
                vec2 offset_uv = uv + vec2(x, y) * texel_size;
                max_a = max(max_a, texture(tex, offset_uv).a);
            }
        }
    }
    return max_a;
}

void fragment() {
    vec4 tex = texture(TEXTURE, UV);

    // --- Glow (soft falloff around the shape) ---
    float glow_alpha = 0.0;
    if (enable_glow) {
        float near_alpha = sample_alpha_radius(TEXTURE, UV, glow_radius);
        // Smooth falloff: closer to shape = stronger glow
        glow_alpha = near_alpha * smoothstep(0.0, glow_radius, glow_radius - length(vec2(0.0)));
        // Simpler approach: just use the sampled alpha as glow intensity
        glow_alpha = (1.0 - tex.a) * near_alpha;
    }

    // --- Outline (1 pixel thick ring just outside the shape) ---
    float outline_alpha = 0.0;
    if (tex.a < 0.01) {
        float neighbor_alpha = sample_alpha_radius(TEXTURE, UV, outline_width);
        outline_alpha = step(0.01, neighbor_alpha); // 1.0 if near the shape
    }

    // --- Early discard if nothing to draw ---
    if (tex.a < 0.01 && outline_alpha < 0.01 && glow_alpha < 0.01) discard;

    // --- Checkerboard color logic (same as before) ---
    vec2 pixel_pos = SCREEN_UV / SCREEN_PIXEL_SIZE;
    vec2 move_offset = direction * TIME * speed;
    pixel_pos += move_offset;
    vec2 cell_id = floor(pixel_pos / cell_size);

    float hue = mix(0.55, 0.65, fract((cell_id.x + cell_id.y) * 0.15 + TIME * color_speed));
    vec3 rainbow = hsv2rgb(vec3(hue, 0.8, 0.6));

    // --- Composite layers ---
    if (tex.a >= 0.01) {
        // Normal interior pixel — apply glow brightness boost too
        vec3 final_color = rainbow * (enable_glow ? glow_strength : 1.0);
        COLOR = vec4(final_color, 1.0);
    } else if (outline_alpha > 0.01) {
        // Outline ring
        COLOR = outline_color;
    } else {
        // Glow halo outside the shape
        COLOR = vec4(outline_color.rgb, glow_alpha * outline_color.a);
    }
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l76pc"]
shader = SubResource("Shader_kk2qi")
shader_parameter/cell_size = 32.0
shader_parameter/direction = Vector2(1, 0)
shader_parameter/speed = 40.0
shader_parameter/color_speed = 0.3
shader_parameter/outline_color = Color(1, 1, 1, 1)
shader_parameter/outline_width = 2.0
shader_parameter/glow_radius = 6.0
shader_parameter/glow_strength = 1.5
shader_parameter/enable_glow = true

[sub_resource type="Theme" id="Theme_wtlo8"]

[sub_resource type="SystemFont" id="SystemFont_66pg5"]
font_names = PackedStringArray("Nimbus Sans Narrow")
subpixel_positioning = 0

[sub_resource type="LabelSettings" id="LabelSettings_sqv62"]
font = SubResource("SystemFont_66pg5")
font_size = 77

[sub_resource type="SystemFont" id="SystemFont_xmh30"]
font_names = PackedStringArray("RIT Meera New")
subpixel_positioning = 0

[sub_resource type="LabelSettings" id="LabelSettings_wmg7a"]
font = SubResource("SystemFont_xmh30")
font_size = 77
outline_size = 8
outline_color = Color(0, 0, 0, 1)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_rrwio"]
vertices = PackedVector2Array(160, 160, -160, 160, -160, -160, 160, -160)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lbt7p"]
vertices = PackedVector2Array(160, 160, -160, 160, -160, -160, 160, -160)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_o5f8d"]
vertices = PackedVector2Array(160, 160, -160, 160, -160, -160, 160, -160)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_oiscc"]
vertices = PackedVector2Array(160, 160, -160, 160, -160, -160, 160, -160)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_vijiy"]
vertices = PackedVector2Array(160, 160, -160, 160, -160, -160, 160, -160)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ro8b5"]
texture = ExtResource("4_djbyv")
texture_region_size = Vector2i(320, 320)
0:0/0 = 0
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_rrwio")
1:0/0 = 0
1:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_oiscc")
0:1/0 = 0
0:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_lbt7p")
1:1/0 = 0
1:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_vijiy")
0:2/0 = 0
0:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_o5f8d")

[sub_resource type="TileSet" id="TileSet_mx74l"]
tile_size = Vector2i(320, 320)
navigation_layer_0/layers = 1
sources/1 = SubResource("TileSetAtlasSource_ro8b5")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kk2qi"]
texture = ExtResource("4_djbyv")
texture_region_size = Vector2i(320, 320)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)
1:0/0 = 0
1:1/0 = 0
0:1/0 = 0
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-160, -160, 160, -160, 160, 160, -160, 160)

[sub_resource type="TileSet" id="TileSet_w6sin"]
tile_size = Vector2i(320, 320)
physics_layer_0/collision_layer = 1
sources/4 = SubResource("TileSetAtlasSource_kk2qi")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_djbyv"]
radius = 12.412567
height = 31.620972

[sub_resource type="ShaderMaterial" id="ShaderMaterial_w6sin"]
shader = ExtResource("6_ro8b5")
shader_parameter/color_shallow = Color(0.05, 0.4, 0.6, 1)
shader_parameter/color_deep = Color(0.01, 0.08, 0.2, 1)
shader_parameter/caustic_color = Color(0.2, 0.9, 1, 1)
shader_parameter/bubble_color = Color(0.6, 0.9, 1, 0.4)
shader_parameter/fog_color = Color(0, 0.15, 0.3, 1)
shader_parameter/depth = 0.6
shader_parameter/wave_speed = 1.0
shader_parameter/caustic_scale = 12.0
shader_parameter/caustic_strength = 0.18
shader_parameter/fog_density = 0.35
shader_parameter/parallax_scale = 0.08
shader_parameter/scroll = Vector2(0, 0)

[sub_resource type="Gradient" id="Gradient_jw32o"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_l76pc"]
gradient = SubResource("Gradient_jw32o")

[node name="Boss Room" type="Node2D" unique_id=949340693]
script = ExtResource("1_q04ek")

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=373282109]

visible = false

[node name="Health" type="TextureProgressBar" parent="CanvasLayer" unique_id=393512959]
offset_left = -19.0
offset_top = -191.0
offset_right = 481.0
offset_bottom = 308.0
max_value = 9.0
value = 8.0
texture_under = ExtResource("2_l7on7")
texture_progress = ExtResource("3_bnrw0")

[node name="Label" type="Label" parent="CanvasLayer" unique_id=951483316]
visible = false
z_index = 1
offset_right = 1146.0
offset_bottom = 549.0
text = "GAME OVER
YOU WIN"
label_settings = SubResource("LabelSettings_bnrw0")
horizontal_alignment = 1
vertical_alignment = 1

[node name="ColorRect" type="ColorRect" parent="CanvasLayer" unique_id=199948793]
visible = false
offset_right = 1195.0
offset_bottom = 648.0
color = Color(0.186216, 4.4665336e-05, 0.678515, 1)

[node name="Label2" type="Label" parent="CanvasLayer" unique_id=229910610]
visible = false
offset_left = 440.0
offset_top = 466.0
offset_right = 702.0
offset_bottom = 572.0
text = "Deaths"
label_settings = SubResource("LabelSettings_djbyv")
horizontal_alignment = 1
vertical_alignment = 1

[node name="Health2" type="TextureProgressBar" parent="CanvasLayer" unique_id=1438421408]


[node name="Health" type="TextureProgressBar" parent="CanvasLayer" unique_id=1438421408]

offset_left = -177.00005
offset_top = -110.00001
offset_right = 322.99994
offset_bottom = 389.0
rotation = 4.712389
scale = Vector2(0.7, 0.7)
pivot_offset = Vector2(241.42856, 271.42853)
max_value = 9.0
value = 8.0
texture_under = ExtResource("2_l7on7")
texture_progress = ExtResource("3_bnrw0")
script = ExtResource("9_mx74l")

[node name="SubViewportContainer" type="SubViewportContainer" parent="CanvasLayer" unique_id=54454087]
material = SubResource("ShaderMaterial_l76pc")
offset_left = 642.0
offset_top = 495.0
offset_right = 1141.0
offset_bottom = 639.0
stretch = true

[node name="SubViewport" type="SubViewport" parent="CanvasLayer/SubViewportContainer" unique_id=1898710255]
transparent_bg = true
handle_input_locally = false
size = Vector2i(499, 144)
render_target_update_mode = 4

[node name="timer" type="Label" parent="CanvasLayer/SubViewportContainer/SubViewport" unique_id=365067384]
offset_left = 130.0
offset_top = 27.0
offset_right = 722.0
offset_bottom = 182.0
theme = SubResource("Theme_wtlo8")
theme_override_font_sizes/font_size = 77
text = "99:99.999"
label_settings = SubResource("LabelSettings_sqv62")
script = ExtResource("10_kk2qi")

[node name="score" type="Label" parent="CanvasLayer" unique_id=654642510]
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -483.0
offset_top = -232.0
offset_right = -87.0
offset_bottom = -126.0
grow_horizontal = 0
grow_vertical = 0
theme = SubResource("Theme_wtlo8")
theme_override_font_sizes/font_size = 77
text = "000000000"
label_settings = SubResource("LabelSettings_wmg7a")
horizontal_alignment = 2
script = ExtResource("11_mx74l")

[node name="Background" type="TileMapLayer" parent="." unique_id=1485069183]
visibility_layer = 0
scale = Vector2(0.047, 0.047)
tile_map_data = PackedByteArray("AAD7//v/AQABAAEAAAD7//z/AQABAAEAAAD7//3/AQABAAEAAAD7//7/AQABAAEAAAD7////AQABAAEAAAD7/wAAAQABAAEAAAD7/wEAAQABAAEAAAD7/wIAAQABAAEAAAD7/wMAAQABAAEAAAD7/wQAAQABAAEAAAD7/wUAAQABAAEAAAD8//v/AQABAAEAAAD8//z/AQABAAEAAAD8//3/AQABAAEAAAD8//7/AQABAAEAAAD8////AQABAAEAAAD8/wAAAQABAAEAAAD8/wEAAQABAAEAAAD8/wIAAQABAAEAAAD8/wMAAQABAAEAAAD8/wQAAQABAAEAAAD8/wUAAQABAAEAAAD9//v/AQABAAEAAAD9//z/AQABAAEAAAD9//3/AQABAAEAAAD9//7/AQABAAEAAAD9////AQABAAEAAAD9/wAAAQABAAEAAAD9/wEAAQABAAEAAAD9/wIAAQABAAEAAAD9/wMAAQABAAEAAAD9/wQAAQABAAEAAAD9/wUAAQABAAEAAAD+//v/AQABAAEAAAD+//z/AQABAAEAAAD+//3/AQABAAEAAAD+//7/AQABAAEAAAD+////AQABAAEAAAD+/wAAAQABAAEAAAD+/wEAAQABAAEAAAD+/wIAAQABAAEAAAD+/wMAAQABAAEAAAD+/wQAAQABAAEAAAD+/wUAAQABAAEAAAD///v/AQABAAEAAAD///z/AQABAAEAAAD///3/AQABAAEAAAD///7/AQABAAEAAAD/////AQABAAEAAAD//wAAAQABAAEAAAD//wEAAQABAAEAAAD//wIAAQABAAEAAAD//wMAAQABAAEAAAD//wQAAQABAAEAAAD//wUAAQABAAEAAAAAAPv/AQABAAEAAAAAAPz/AQABAAEAAAAAAP3/AQABAAEAAAAAAP7/AQABAAEAAAAAAP//AQABAAEAAAAAAAAAAQABAAEAAAAAAAEAAQABAAEAAAAAAAIAAQABAAEAAAAAAAMAAQABAAEAAAAAAAQAAQABAAEAAAAAAAUAAQABAAEAAAABAPv/AQABAAEAAAABAPz/AQABAAEAAAABAP3/AQABAAEAAAABAP7/AQABAAEAAAABAP//AQABAAEAAAABAAAAAQABAAEAAAABAAEAAQABAAEAAAABAAIAAQABAAEAAAABAAMAAQABAAEAAAABAAQAAQABAAEAAAABAAUAAQABAAEAAAACAPv/AQABAAEAAAACAPz/AQABAAEAAAACAP3/AQABAAEAAAACAP7/AQABAAEAAAACAP//AQABAAEAAAACAAAAAQABAAEAAAACAAEAAQABAAEAAAACAAIAAQABAAEAAAACAAMAAQABAAEAAAACAAQAAQABAAEAAAACAAUAAQABAAEAAAADAPv/AQABAAEAAAADAPz/AQABAAEAAAADAP3/AQABAAEAAAADAP7/AQABAAEAAAADAP//AQABAAEAAAADAAAAAQAAAAEAAAADAAEAAQABAAEAAAADAAIAAQABAAEAAAADAAMAAQABAAEAAAADAAQAAQABAAEAAAADAAUAAQABAAAAAAAEAPv/AQABAAEAAAAEAPz/AQABAAEAAAAEAP3/AQABAAEAAAAEAP7/AQABAAEAAAAEAP//AQABAAEAAAAEAAAAAQABAAEAAAAEAAEAAQABAAEAAAAEAAIAAQABAAEAAAAEAAMAAQABAAEAAAAEAAQAAQABAAEAAAAEAAUAAQABAAEAAAAFAPv/AQABAAEAAAAFAPz/AQABAAEAAAAFAP3/AQABAAEAAAAFAP7/AQABAAEAAAAFAP//AQABAAEAAAAFAAAAAQABAAEAAAAFAAEAAQABAAEAAAAFAAIAAQABAAEAAAAFAAMAAQABAAEAAAAFAAQAAQABAAEAAAAFAAUAAQABAAEAAAAGAPv/AQABAAEAAAAGAPz/AQABAAEAAAAGAP3/AQABAAEAAAAGAP7/AQABAAEAAAAGAP//AQABAAEAAAAGAAAAAQABAAEAAAAGAAEAAQABAAEAAAAGAAIAAQABAAEAAAAGAAMAAQABAAEAAAAGAAQAAQABAAEAAAAGAAUAAQABAAEAAAAHAPv/AQABAAEAAAAHAPz/AQABAAEAAAAHAP3/AQABAAEAAAAHAP7/AQABAAEAAAAHAP//AQAAAAEAAAAHAAAAAQABAAEAAAAHAAEAAQABAAEAAAAHAAIAAQABAAEAAAAHAAMAAQABAAEAAAAHAAQAAQABAAEAAAAHAAUAAQABAAEAAAAIAPv/AQABAAEAAAAIAPz/AQABAAEAAAAIAP3/AQABAAEAAAAIAP7/AQABAAEAAAAIAP//AQABAAEAAAAIAAAAAQABAAEAAAAIAAEAAQABAAEAAAAIAAIAAQABAAEAAAAIAAMAAQABAAEAAAAIAAQAAQABAAEAAAAIAAUAAQABAAEAAAAJAPv/AQABAAEAAAAJAPz/AQABAAEAAAAJAP3/AQABAAEAAAAJAP7/AQABAAEAAAAJAP//AQABAAEAAAAJAAAAAQABAAEAAAAJAAEAAQABAAEAAAAJAAIAAQABAAEAAAAJAAMAAQABAAEAAAAJAAQAAQABAAEAAAAJAAUAAQABAAEAAAAKAPv/AQABAAEAAAAKAPz/AQABAAEAAAAKAP3/AQABAAEAAAAKAP7/AQABAAEAAAAKAP//AQABAAEAAAAKAAAAAQABAAEAAAAKAAEAAQABAAEAAAAKAAIAAQABAAEAAAAKAAMAAQABAAEAAAAKAAQAAQABAAEAAAAKAAUAAQABAAEAAAALAPv/AQABAAEAAAALAPz/AQABAAEAAAALAP3/AQABAAEAAAALAP7/AQABAAEAAAALAP//AQABAAEAAAALAAAAAQABAAEAAAALAAEAAQABAAEAAAALAAIAAQABAAEAAAALAAMAAQABAAEAAAALAAQAAQABAAEAAAALAAUAAQABAAEAAAAMAPv/AQABAAEAAAAMAPz/AQABAAEAAAAMAP3/AQABAAEAAAAMAP7/AQABAAEAAAAMAP//AQABAAEAAAAMAAAAAQABAAEAAAAMAAEAAQABAAEAAAAMAAIAAQABAAEAAAAMAAMAAQABAAEAAAAMAAQAAQABAAEAAAAMAAUAAQABAAEAAAANAPv/AQABAAEAAAANAPz/AQABAAEAAAANAP3/AQABAAEAAAANAP7/AQABAAEAAAANAP//AQABAAEAAAANAAAAAQABAAEAAAANAAEAAQABAAEAAAANAAIAAQABAAEAAAANAAMAAQABAAEAAAANAAQAAQABAAEAAAANAAUAAQABAAEAAAAOAPv/AQABAAEAAAAOAPz/AQABAAEAAAAOAP3/AQABAAEAAAAOAP7/AQABAAEAAAAOAP//AQABAAEAAAAOAAAAAQABAAEAAAAOAAEAAQABAAEAAAAOAAIAAQABAAEAAAAOAAMAAQABAAEAAAAOAAQAAQABAAEAAAAOAAUAAQABAAEAAAAPAPv/AQABAAEAAAAPAPz/AQABAAEAAAAPAP3/AQABAAEAAAAPAP7/AQABAAEAAAAPAP//AQABAAEAAAAPAAAAAQABAAEAAAAPAAEAAQABAAEAAAAPAAIAAQABAAEAAAAPAAMAAQABAAEAAAAPAAQAAQABAAEAAAAPAAUAAQABAAEAAAAQAPv/AQABAAEAAAAQAPz/AQABAAEAAAAQAP3/AQABAAEAAAAQAP7/AQABAAEAAAAQAP//AQABAAEAAAAQAAAAAQABAAEAAAAQAAEAAQABAAEAAAAQAAIAAQABAAEAAAAQAAMAAQABAAEAAAAQAAQAAQABAAEAAAAQAAUAAQABAAEAAAARAPv/AQABAAEAAAARAPz/AQABAAEAAAARAP3/AQABAAEAAAARAP7/AQABAAEAAAARAP//AQABAAEAAAARAAAAAQABAAEAAAARAAEAAQABAAEAAAARAAIAAQABAAEAAAARAAMAAQABAAEAAAARAAQAAQABAAEAAAARAAUAAQABAAEAAAASAPv/AQABAAEAAAASAPz/AQABAAEAAAASAP3/AQABAAEAAAASAP7/AQABAAEAAAASAP//AQABAAEAAAASAAAAAQABAAEAAAASAAEAAQABAAAAAAASAAIAAQABAAEAAAASAAMAAQABAAEAAAASAAQAAQABAAEAAAASAAUAAQABAAEAAAATAPv/AQABAAEAAAATAPz/AQABAAEAAAATAP3/AQABAAEAAAATAP7/AQABAAEAAAATAP//AQABAAEAAAATAAAAAQABAAEAAAATAAEAAQABAAEAAAATAAIAAQABAAEAAAATAAMAAQABAAEAAAATAAQAAQABAAEAAAATAAUAAQABAAEAAAAUAPv/AQABAAEAAAAUAPz/AQABAAEAAAAUAP3/AQABAAEAAAAUAP7/AQABAAEAAAAUAP//AQABAAEAAAAUAAAAAQABAAEAAAAUAAEAAQABAAEAAAAUAAIAAQABAAEAAAAUAAMAAQABAAEAAAAUAAQAAQABAAEAAAAUAAUAAQABAAEAAAA=")
tile_set = SubResource("TileSet_mx74l")

[node name="Sea" type="TileMapLayer" parent="." unique_id=631994633]
scale = Vector2(0.047, 0.047)
tile_map_data = PackedByteArray("AAD7/wYABAAAAAIAAAD8/wYABAAAAAIAAAD9/wYABAAAAAIAAAD+/wYABAAAAAIAAAD//wYABAAAAAIAAAAAAAYABAAAAAIAAAABAAYABAAAAAIAAAACAAYABAAAAAIAAAADAAYABAAAAAIAAAAEAAYABAAAAAIAAAD6//r/BAAAAAAAAAD6//v/BAAAAAAAAAD6//z/BAAAAAAAAAD6//3/BAAAAAAAAAD6//7/BAAAAAAAAAD6////BAAAAAAAAAD6/wAABAAAAAAAAAD6/wEABAAAAAAAAAD6/wIABAAAAAAAAAD6/wMABAAAAAAAAAD6/wQABAAAAAAAAAD6/wUABAAAAAAAAAD6/wYABAAAAAAAAAD7//r/BAAAAAAAAAD8//r/BAAAAAAAAAD9//r/BAAAAAAAAAD+//r/BAAAAAAAAAD///r/BAAAAAAAAAAAAPr/BAAAAAAAAAABAPr/BAAAAAAAAAACAPr/BAAAAAAAAAADAPr/BAAAAAAAAAAEAPr/BAAAAAAAAAAFAPr/BAAAAAAAAAAGAPr/BAAAAAAAAAAHAPr/BAAAAAAAAAAIAPr/BAAAAAAAAAAJAPr/BAAAAAAAAAAKAPr/BAAAAAAAAAALAPr/BAAAAAAAAAAMAPr/BAAAAAAAAAANAPr/BAAAAAAAAAAOAPr/BAAAAAAAAAAPAPr/BAAAAAAAAAAQAPr/BAAAAAAAAAARAPr/BAAAAAAAAAASAPr/BAAAAAAAAAATAPr/BAAAAAAAAAAUAPr/BAAAAAAAAAAVAPr/BAAAAAAAAAAVAPv/BAAAAAAAAAAVAPz/BAAAAAAAAAAVAP3/BAAAAAAAAAAVAP7/BAAAAAAAAAAVAP//BAAAAAAAAAAVAAAABAAAAAAAAAAVAAEABAAAAAAAAAAVAAIABAAAAAAAAAAVAAMABAAAAAAAAAAVAAQABAAAAAAAAAAVAAUABAAAAAAAAAAFAAYABAAAAAIAAAAGAAYABAAAAAIAAAAHAAYABAAAAAIAAAAIAAYABAAAAAIAAAAJAAYABAAAAAIAAAAKAAYABAAAAAIAAAALAAYABAAAAAIAAAAMAAYABAAAAAIAAAANAAYABAAAAAIAAAAOAAYABAAAAAIAAAAPAAYABAAAAAIAAAAQAAYABAAAAAIAAAARAAYABAAAAAIAAAASAAYABAAAAAIAAAATAAYABAAAAAIAAAAUAAYABAAAAAIAAAAVAAYABAAAAAAAAAA=")
tile_set = SubResource("TileSet_w6sin")

[node name="Player_swim" parent="." unique_id=2126484536 instance=ExtResource("5_dc5tq")]

[node name="Camera2D" type="Camera2D" parent="Player_swim" unique_id=2024430758]
zoom = Vector2(5.5, 5.5)

[node name="Boss" parent="." unique_id=1732988060 node_paths=PackedStringArray("player") instance=ExtResource("6_l7on7")]
position = Vector2(263.58743, 66.189514)
player = NodePath("../Player_swim")

endscene = ExtResource("10_w6sin")


[node name="Damage" parent="Boss" unique_id=254023939 groups=["Enemy"] instance=ExtResource("7_bnrw0")]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Boss/Damage" unique_id=1739401846 groups=["Enemy"]]
shape = SubResource("CapsuleShape2D_djbyv")

[node name="ParallaxBackground" type="ParallaxBackground" parent="." unique_id=267887280]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground" unique_id=1514114563]
motion_scale = Vector2(0, 0)
motion_mirroring = Vector2(205, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer" unique_id=1692151635]
material = SubResource("ShaderMaterial_w6sin")
position = Vector2(-119.00001, -12)
scale = Vector2(3.8515627, 2.3807137)
texture = SubResource("GradientTexture2D_l76pc")
centered = false

[node name="CanvasLayer2" type="CanvasLayer" parent="." unique_id=82598990]
visible = false


[connection signal="value_changed" from="CanvasLayer/Health" to="CanvasLayer/Health" method="_on_value_changed"]


